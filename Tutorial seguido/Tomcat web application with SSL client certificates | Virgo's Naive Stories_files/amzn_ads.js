function amzn_ads(e){"use strict";try{amznads.updateAds(e)}catch(a){try{console.log("amzn_ads: "+a)}catch(n){}}}var amzn_console=function(){"use strict";var e={};return e.log=function(){},e}();window.console&&(amzn_console=window.console);var amznads=function(e,a,n,t){"use strict";var s="https:"===a.location.protocol;return e.protocol=s?"https://":"http://",e.host="aax.amazon-adsystem.com",e.dtb_svc="/e/dtb/bid",e.debug_mode=e.debug_mode||!1,e.tasks=e.tasks||[],e.log=function(e){try{t.log(e)}catch(a){}},e.debug_mode&&e.log("Initiating amznads"),e.ads||(e.ads={}),e.updateAds=function(a){e.ads=a.ads,e.debug_mode&&e.log("Updated ads. Executing rest of the task queue"),e.doAllTasks(),e.tasks.push=function(a){e.doTask(a)}},e.getAdsAsync=function(a,n,t){e.getAds(a,n,t,!0)},e.getAds=function(t,s,o,d){e.src_id=t;var o=o||{},r=o.u,g=o.d;if(!r){r=encodeURIComponent(a.documentURI);try{r=encodeURIComponent(n.top.location.href)}catch(c){}}if(r&&-1!==r.indexOf("amzn_debug_mode")&&(e.debug_mode=!0),g)try{a.domain=g,e.debug_mode&&e.log("amznads.getAds(): Using domain="+g)}catch(i){e.debug_mode&&e.log("amznads.getAds(): Unable to override document domain with '"+g+"'; exception="+i)}e.debug_mode&&e.log("amznads.getAds(): Using url="+r);var u="src="+t+"&u="+r+"&cb="+Math.round(1e7*Math.random());s&&(u+="&sz="+s);var m=e.protocol+e.host+e.dtb_svc+"?"+u;if(e.debug_mode&&e.log("amznads.getAds: "+(d?"Async ":"")+"Call to: "+m),d){var l=a.createElement("script");l.type="text/javascript",l.async=!0,l.src=m;var y=a.getElementsByTagName("script")[0];y.parentNode.insertBefore(l,y)}else a.write("<script type='text/javascript' src='"+m+"'></script>"),a.close()},e.renderAd=function(a,n){if(e.debug_mode&&e.log("amznads.renderAd: key="+n+"; ad-tag="+e.ads[n]),e.ads[n])a.write(e.ads[n]),a.close();else{var t=new Object;t.c="dtb",t.src=e.src_id,t.kvmismatch=1,t.pubReturnedKey=n,t.aaxReturnedKeys=e.getTokens(),t.cb=Math.round(1e7*Math.random());var s=encodeURIComponent(JSON.stringify(t)),o=e.protocol+e.host+"/x/px/p/0/"+s;e.debug_mode&&e.log("amznads.renderAd: keyValueMismatch detected, pubReturnedKey="+n+", aaxReturnedKeys="+e.getTokens()),a.write("<img src='"+o+"'/>"),a.close()}},e.hasAds=function(a){var n;if(!a)try{return Object.keys(e.ads).length>0}catch(t){e.debug_mode&&e.log("amznads.hasAds: looks like IE 8 (and below): "+t);for(n in e.ads)if(e.ads.hasOwnProperty(n))return!0}for(n in e.ads)if(e.ads.hasOwnProperty(n)&&n.indexOf(a)>0)return!0;return!1},e.setTargeting=function(a,n){var t;for(t in e.ads)if(e.ads.hasOwnProperty(t)){if(n&&t.indexOf(n)<0)continue;a(t,"1")}},e.setTargetingForGPTAsync=function(a){try{if(a){var n=e.getTokens();"undefined"!=typeof n&&n.length>0&&googletag.cmd.push(function(){googletag.pubads().setTargeting(a,n)})}else{var t;for(t in e.ads)e.ads.hasOwnProperty(t)&&!function(){var a=t;e.debug_mode&&e.log("amznads.setTargetingForGPTAsync: pushing localKey="+a),googletag.cmd.push(function(){amznads.debug_mode&&amznads.log("amznads.setTargetingForGPTAsync: localKey="+a),googletag.pubads().setTargeting(a,"1")})}()}e.debug_mode&&e.log("amznads.setTargetingForGPTAsync: Completed successfully. Number of ads returned by Amazon: "+Object.keys(e.ads).length)}catch(s){e.debug_mode&&e.log("amznads.setTargetingForGPTAsync: ERROR - "+s)}},e.setTargetingForGPTSync=function(a){try{if(a){var n=e.getTokens();"undefined"!=typeof n&&n.length>0&&googletag.pubads().setTargeting(a,n)}else{var t;for(t in e.ads)e.ads.hasOwnProperty(t)&&googletag.pubads().setTargeting(t,"1")}e.debug_mode&&e.log("amznads.setTargetingForGPTSync: Completed successfully. Number of ads returned by Amazon: "+Object.keys(e.ads).length)}catch(s){e.debug_mode&&e.log("amznads.setTargetingForGPTSync: ERROR - "+s)}},e.appendTargetingToAdServerUrl=function(a){var n=a;try{-1===a.indexOf("?")&&(a+="?");var t;for(t in e.ads)e.ads.hasOwnProperty(t)&&(a+="&"+t+"=1");e.debug_mode&&e.log("amznads.appendTargetingToAdServerUrl: Completed successfully. Number of ads returned by Amazon: "+e.ads.length)}catch(s){e.debug_mode&&e.log("amznads.appendTargetingToAdServerUrl: ERROR - "+s)}return e.debug_mode&&e.log("amznads.appendTargetingToAdServerUrl: input url: "+n+"\nreturning url: "+a),a},e.appendTargetingToQueryString=function(a){var n=a;try{var t;for(t in e.ads)e.ads.hasOwnProperty(t)&&(a+="&"+t+"=1")}catch(s){e.debug_mode&&e.log("amznads.appendTargetingToQueryString: ERROR - "+s)}return e.debug_mode&&e.log("amznads.appendTargetingToQueryString: input query-string:"+n+"\nreturning query-string:"+a),a},e.getTokens=function(a){var n,t=[];try{for(n in e.ads)if(e.ads.hasOwnProperty(n)){if(a&&n.indexOf(a)<0)continue;t.push(n)}}catch(s){e.debug_mode&&e.log("amznads.getTokens: ERROR - "+s)}return e.debug_mode&&e.log("amznads.getTokens: returning tokens = "+t),t},e.getKeys=e.getTokens,e.doAllTasks=function(){for(;e.tasks.length>0;){var a=e.tasks.shift();e.doTask(a)}},e.doTask=function(a){try{a.call()}catch(n){e.debug_mode&&e.log("Failed calling task: "+n)}},e.tryGetAdsAsync=function(){e.asyncParams&&e.getAdsAsync(e.asyncParams.id,e.asyncParams.size,e.asyncParams.data)},e}(amznads||{},document,window,amzn_console);amznads.tryGetAdsAsync(),window.amzn_ads=amzn_ads,window.amznads=amznads;